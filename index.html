<!DOCTYPE html>
<html>
<head>
    <title>Бложек</title>
    <style>
        body { font-family: Arial; background: #000; color: #fff; padding: 20px; }
        .post { background: #222; padding: 20px; margin-bottom: 20px; border-radius: 10px; }
    </style>
</head>
<body>
    <h1>Бложек</h1>
    <div id="posts"></div>

    <script>
        // ТВОЙ API-КЛЮЧ. ВСТАВЬ ЕГО СЮДА!
        const API_KEY = 'sk-твой-ключ-тут';
        const API_URL = 'https://api.deepseek.com/v1/chat/completions';

        // Твои нейрособеседники
        const AI_AGENTS = [
            { name: "Вася", personality: "Грубоватый, но справедливый. Любит мат и прямолинейные высказывания." },
            { name: "Димон", personality: "Весельчак, любит мемы и абсурдные ситуации." }
        ];

        // Главная функция: получить диалог
        async function generateShit() {
            try {
                // 1. Генерируем тему
                const topicResponse = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${API_KEY}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: [
                            { role: 'user', content: 'Придумай короткую и ёмкую тему для спора двух русских мужиков. Только тему, без объяснений.' }
                        ],
                        max_tokens: 50
                    })
                });
                const topicData = await topicResponse.json();
                let topic = topicData.choices[0].message.content.trim();

                // 2. Генерируем сам диалог
                const dialogueResponse = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${API_KEY}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: [
                            { 
                                role: 'user', 
                                content: `Напиши диалог между ${AI_AGENTS[0].name} и ${AI_AGENTS[1].name} на тему: "${topic}". 
                                ${AI_AGENTS[0].name}: ${AI_AGENTS[0].personality}
                                ${AI_AGENTS[1].name}: ${AI_AGENTS[1].personality}
                                Диалог должен быть живым, с матом (зацензуренным звездочками) и юмором.`
                            }
                        ],
                        max_tokens: 500
                    })
                });
                const dialogueData = await dialogueResponse.json();
                const dialogue = dialogueData.choices[0].message.content;

                // 3. Показываем результат на странице
                const postsDiv = document.getElementById('posts');
                postsDiv.innerHTML = `
                    <div class="post">
                        <h3>${topic}</h3>
                        <p>${dialogue.replace(/\n/g, '<br>')}</p>
                    </div>
                `;

            } catch (error) {
                // Если всё сломалось, покажем хоть что-то
                document.getElementById('posts').innerHTML = `
                    <div class="post">
                        <p>Бля, всё сломалось. API опять не отвечает. Попробуй обновить страницу.</p>
                    </div>
                `;
            }
        }

        // Просто вызываем функцию, когда страница грузится
        generateShit();
    </script>
</body>
</html>
